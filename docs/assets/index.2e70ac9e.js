import{o as c,c as d,a as i,A as V,n as p,w as D,v as U,b as Y,F as f,r as k,t as u,d as w,p as b,e as $,f as z,g as h,h as v,i as S,j as B,k as G,l as H,m as q,I as Q,q as X}from"./vendor.6995f699.js";const Z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=l(s);fetch(s.href,a)}};Z();var g=(t,e)=>{const l=t.__vccOpts||t;for(const[n,s]of e)l[n]=s;return l};const ee={},te={class:"header"},se=i("h1",{class:"header__h1"},"\u041E\u0442\u0447\u0435\u0442\u044B",-1),ae=[se];function le(t,e){return c(),d("header",te,ae)}var re=g(ee,[["render",le]]);const C=t=>{let e,l,n;return e=t.getDate(),e<10&&(e="0"+e),l=t.getMonth()+1,l<10&&(l="0"+l),n=t.getFullYear(),e+"."+l+"."+n},T=t=>{let e,l,n;return e=Math.floor(t/3600),l=Math.floor(t/60)-e*60,n=t%60,[e.toString().padStart(2,"0"),l.toString().padStart(2,"0"),n.toString().padStart(2,"0")].join(":")},ne=t=>{if(!t)return 0;let e,l,n;return t=t.split(":"),e=parseInt(t[0])||0,l=parseInt(t[1])||0,n=parseInt(t[2])||0,e*3600+l*60+n},ie=()=>{const t=new Date;return[t,t]},P=()=>{const t=new Date;let e=new Date(t-(t.getDay()-1)*864e5),l=new Date(t-(t.getDay()-1)*864e5+6*864e5);return[e,l]},oe=()=>{const t=new Date;let e=new Date(t.getFullYear(),t.getMonth(),1),l=new Date(t.getFullYear(),t.getMonth()+1,0);return[e,l]},ce=()=>{const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},W=async(t,e)=>{const l=(r,o,y)=>(o.start=y,fetch(r,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(I=>I.json()));let n=[],s=0,a=null;for(;a===null||s<a;){let r=l(t,e,s);if(a===null){let o=await r;a=parseInt(o.total)}n.push(r),s+=50}return Promise.all(n)},j=async(t,e)=>fetch(t+"/task.elapseditem.getlist",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:{ID:"asc"},filter:e,select:["ID","TASK_ID","SECONDS","CREATED_DATE"],params:{NAV_PARAMS:{nPageSize:0}}})}).then(l=>l.json()).then(l=>l.result),de=async(t,e)=>W(t+"/tasks.task.list",{order:{ID:"asc"},filter:e,select:["ID","TITLE","GROUP_ID"]}).then(l=>l.reduce((n,s)=>n.concat(s.result.tasks),[])),ue=async(t,e)=>fetch(t+"/sonet_group.get",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({ORDER:{ID:"asc"},FILTER:e})}).then(l=>l.json()).then(l=>l.result),J=async t=>fetch(t+"/user.admin.json",{method:"post",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e.result).catch(e=>!1),K=async t=>W(t+"/user.get",{sort:"LAST_NAME",order:"asc",filter:{ACTIVE:"true"}}).then(e=>e.reduce((l,n)=>l.concat(n.result),[])),_e=async(t,e)=>fetch("https://isdayoff.ru/api/getdata?year="+t+"&month="+e+"&delimeter=|&covid=1").then(l=>l.text());const ye={data(){return{apiUrl:this.$store.state.weeklyApiUrl,userId:this.$store.state.weeklyUserId,start:this.$store.state.weeklyDateFrom,end:this.$store.state.weeklyDateTo,datePickerInst:!1,users:[],isUserAdmin:!1,isLoading:!1}},created(){this.getUsers()},mounted(){let t={content:"\u0414\u0435\u043D\u044C",onClick:n=>{let s=ie();n.selectDate(s),n.setViewDate(s[0])}},e={content:"\u041D\u0435\u0434\u0435\u043B\u044F",onClick:n=>{let s=P();n.selectDate(s),n.setViewDate(s[0])}},l={content:"\u041C\u0435\u0441\u044F\u0446",onClick:n=>{let s=oe();n.selectDate(s),n.setViewDate(s[0])}};this.datePickerInst=new V("[name=dates]",{range:!0,multipleDatesSeparator:" - ",selectedDates:[this.start,this.end],buttons:[t,e,l],toggleSelected:!1,onSelect(n){n.date.length==2&&n.datepicker.hide()}})},watch:{apiUrl(){this.setUserId(),this.getUsers()},users(){this.isLoading=!1}},methods:{async getUsers(){this.apiUrl&&(this.isLoading=!0,this.isUserAdmin=await J(this.apiUrl),this.isUserAdmin?this.users=await K(this.apiUrl):this.users=[])},setSettings(){this.$store.commit("weeklyApiChange",{weeklyApiUrl:this.apiUrl}),this.$store.commit("weeklyUserChange",{weeklyUserId:this.userId}),this.$store.commit("weeklyDateChange",{weeklyDateFrom:this.datePickerInst.selectedDates[0],weeklyDateTo:this.datePickerInst.selectedDates[1]||this.datePickerInst.selectedDates[0]})},setUserId(){if(this.apiUrl){let t=!1;(t=this.apiUrl.match(/rest\/(\d+)/))&&(this.userId=t[1]||!1)}else this.userId=!1}}},E=t=>(b("data-v-493da34a"),t=t(),$(),t),he={class:"settings__items"},ge=E(()=>i("label",{class:"settings__label"},"\u0421\u0442\u0440\u043E\u043A\u0430 API",-1)),pe={key:0,class:"settings__item"},me=E(()=>i("label",{class:"settings__label"},"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C",-1)),De=["value"],fe=E(()=>i("div",{class:"settings__item"},[i("label",{class:"settings__label"},"\u041F\u0435\u0440\u0438\u043E\u0434"),i("input",{class:"settings__input",type:"text",name:"dates"})],-1)),ke={class:"settings__item"};function Ie(t,e,l,n,s,a){return c(),d("div",{class:p(["settings",{"is-loading":s.isLoading}])},[i("div",he,[i("div",{class:p(["settings__item",{"settings__item--2":!s.isUserAdmin}])},[ge,D(i("input",{class:"settings__input",type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>s.apiUrl=r)},null,512),[[U,s.apiUrl]])],2),s.isUserAdmin?(c(),d("div",pe,[me,D(i("select",{class:"settings__input","onUpdate:modelValue":e[1]||(e[1]=r=>s.userId=r)},[(c(!0),d(f,null,k(s.users,r=>(c(),d("option",{key:r.ID,value:r.ID},u(r.LAST_NAME)+" "+u(r.NAME)+" ("+u(r.ID)+") ",9,De))),128))],512),[[Y,s.userId]])])):w("",!0),fe,i("div",ke,[i("button",{class:"settings__btn",onClick:e[2]||(e[2]=(...r)=>a.setSettings&&a.setSettings(...r))},"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C")])])],2)}var ve=g(ye,[["render",Ie],["__scopeId","data-v-493da34a"]]);const Se={data(){return{result:[],isLoading:!1}},computed:{settings(){return{apiUrl:this.$store.state.weeklyApiUrl,userId:this.$store.state.weeklyUserId,dateFrom:this.$store.state.weeklyDateFrom,dateTo:this.$store.state.weeklyDateTo}},summChecked(){return this.result.reduce((t,e)=>t+=e.selected?e.seconds:0,0)},summTotal(){return this.result.reduce((t,e)=>t+=e.seconds,0)}},created(){this.getResult()},watch:{settings(){this.getResult()},result(){this.isLoading=!1}},methods:{formatDate:C,formatTime:T,async getResult(){if(!this.settings.apiUrl||!this.settings.userId)return!1;this.isLoading=!0;const[t,e,l]=await this.getResultData();let n={0:{id:0,name:"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430 \u043A \u0433\u0440\u0443\u043F\u043F\u0435",seconds:0,selected:this.result[0]?this.result[0].selected:!1,tasks:{0:{id:0,name:"\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430 \u043A \u0437\u0430\u0434\u0430\u0447\u0435 \u0438\u043B\u0438 \u0437\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043B\u0435\u043D\u0430",seconds:0}}}};l.forEach(a=>{n[a.ID]={id:a.ID,name:a.NAME,seconds:0,selected:this.result[a.ID]?this.result[a.ID].selected:!1,tasks:{}}});let s={0:0};e.forEach(a=>{let r=n[a.groupId],o=r?r.id:0;s[a.id]=o,n[o].tasks[a.id]={id:a.id,name:a.title,seconds:0}}),t.forEach(a=>{let r=n[s[a.TASK_ID]],o=r?r.id:0,y=n[o].tasks[a.TASK_ID],I=y?y.id:0;n[o].seconds+=parseInt(a.SECONDS),n[o].tasks[I].seconds+=parseInt(a.SECONDS)}),this.result=Object.values(n).filter(a=>(a.tasks=Object.values(a.tasks).filter(r=>r.seconds),a.seconds))},async getResultData(){let t=[],e={USER_ID:this.settings.userId,">=CREATED_DATE":C(this.settings.dateFrom)+" 00:00:00","<=CREATED_DATE":C(this.settings.dateTo)+" 23:59:59"};e.USER_ID&&(t=await j(this.settings.apiUrl,e));let l=[];e={ID:t.map(s=>s.TASK_ID)},e.ID.length&&(l=await de(this.settings.apiUrl,e));let n=[];return e={ID:l.map(s=>s.groupId)},e.ID.length&&(n=await ue(this.settings.apiUrl,e)),[t,l,n]}}},we=i("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},[i("path",{d:"M 15 3 C 12.031398 3 9.3028202 4.0834384 7.2070312 5.875 A 1.0001 1.0001 0 1 0 8.5058594 7.3945312 C 10.25407 5.9000929 12.516602 5 15 5 C 20.19656 5 24.450989 8.9379267 24.951172 14 L 22 14 L 26 20 L 30 14 L 26.949219 14 C 26.437925 7.8516588 21.277839 3 15 3 z M 4 10 L 0 16 L 3.0507812 16 C 3.562075 22.148341 8.7221607 27 15 27 C 17.968602 27 20.69718 25.916562 22.792969 24.125 A 1.0001 1.0001 0 1 0 21.494141 22.605469 C 19.74593 24.099907 17.483398 25 15 25 C 9.80344 25 5.5490109 21.062074 5.0488281 16 L 8 16 L 4 10 z"})],-1),Ue=[we],Ae={key:0,class:"weekly__items"},Ce={class:"weekly__label"},Te=["onUpdate:modelValue"],be={class:"weekly__tasks"},$e={key:1,class:"weekly__footer"},Ee={class:"weekly__checked"},Le={class:"weekly__total"},xe={key:2,class:"weekly__empty"};function Fe(t,e,l,n,s,a){return c(),d("div",{class:p(["weekly",{"is-loading":s.isLoading}])},[i("div",{class:"weekly__refresh",onClick:e[0]||(e[0]=(...r)=>a.getResult&&a.getResult(...r)),title:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435"},Ue),s.result.length?(c(),d("div",Ae,[(c(!0),d(f,null,k(s.result,r=>(c(),d("div",{class:"weekly__item",key:r.id},[i("label",Ce,[D(i("input",{class:"weekly__checkbox",type:"checkbox",value:"group.id","onUpdate:modelValue":o=>r.selected=o},null,8,Te),[[z,r.selected]]),i("b",null,u(r.name),1),h(" ("+u(a.formatTime(r.seconds))+") ",1)]),i("div",be,[(c(!0),d(f,null,k(r.tasks,o=>(c(),d("div",{class:"weekly__task",key:o.id},u(o.id)+" - "+u(o.name)+" ("+u(a.formatTime(o.seconds))+") ",1))),128))])]))),128))])):w("",!0),s.result.length?(c(),d("div",$e,[i("div",Ee,"\u0421\u0443\u043C\u043C\u0430 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0445: "+u(a.formatTime(a.summChecked)),1),i("div",Le,"\u0412\u0441\u0435\u0433\u043E \u0437\u0430\u0442\u0440\u0430\u0447\u0435\u043D\u043E: "+u(a.formatTime(a.summTotal)),1)])):w("",!0),s.result.length?w("",!0):(c(),d("div",xe,"\u0414\u0430\u043D\u043D\u044B\u0445 \u043D\u0435\u0442"))],2)}var Re=g(Se,[["render",Fe]]);const Me={components:{SettingsWeekly:ve,Weekly:Re}};function Ne(t,e,l,n,s,a){const r=v("SettingsWeekly"),o=v("Weekly");return c(),d("div",null,[S(r),S(o)])}var Oe=g(Me,[["render",Ne]]);const Ve={data(){return{apiUrl:this.$store.state.yearlyApiUrl,userId:this.$store.state.yearlyUserId,date:this.$store.state.yearlyDate,datePickerInst:!1,users:[],isUserAdmin:!1,isLoading:!1}},created(){this.getUsers()},mounted(){this.datePickerInst=new V("[name=year]",{view:"years",minView:"years",dateFormat:"yyyy",range:!1,selectedDates:this.date,toggleSelected:!1,onSelect(t){t.datepicker.hide()}})},watch:{apiUrl(){this.setUserId(),this.getUsers()},users(){this.isLoading=!1}},methods:{async getUsers(){this.apiUrl&&(this.isLoading=!0,this.isUserAdmin=await J(this.apiUrl),this.isUserAdmin?this.users=await K(this.apiUrl):this.users=[])},setSettings(){this.$store.commit("yearlyApiChange",{yearlyApiUrl:this.apiUrl}),this.$store.commit("yearlyUserChange",{yearlyUserId:this.userId}),this.$store.commit("yearlyDateChange",{yearlyDate:this.datePickerInst.selectedDates[0]})},setUserId(){if(this.apiUrl){let t=!1;(t=this.apiUrl.match(/rest\/(\d+)/))&&(this.userId=t[1]||!1)}else this.userId=!1}}},L=t=>(b("data-v-51ba4ba3"),t=t(),$(),t),Ye={class:"settings__items"},Pe=L(()=>i("label",{class:"settings__label"},"\u0421\u0442\u0440\u043E\u043A\u0430 API",-1)),We={key:0,class:"settings__item"},je=L(()=>i("label",{class:"settings__label"},"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C",-1)),Je=["value"],Ke=L(()=>i("div",{class:"settings__item"},[i("label",{class:"settings__label"},"\u041F\u0435\u0440\u0438\u043E\u0434"),i("input",{class:"settings__input",type:"text",name:"year"})],-1)),ze={class:"settings__item"};function Be(t,e,l,n,s,a){return c(),d("div",{class:p(["settings",{"is-loading":s.isLoading}])},[i("div",Ye,[i("div",{class:p(["settings__item",{"settings__item--2":!s.isUserAdmin}])},[Pe,D(i("input",{class:"settings__input",type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>s.apiUrl=r)},null,512),[[U,s.apiUrl]])],2),s.isUserAdmin?(c(),d("div",We,[je,D(i("select",{class:"settings__input","onUpdate:modelValue":e[1]||(e[1]=r=>s.userId=r)},[(c(!0),d(f,null,k(s.users,r=>(c(),d("option",{key:r.ID,value:r.ID},u(r.LAST_NAME)+" "+u(r.NAME)+" ("+u(r.ID)+") ",9,Je))),128))],512),[[Y,s.userId]])])):w("",!0),Ke,i("div",ze,[i("button",{class:"settings__btn",onClick:e[2]||(e[2]=(...r)=>a.setSettings&&a.setSettings(...r))},"\u041F\u0440\u0438\u043C\u0435\u043D\u0438\u0442\u044C")])])],2)}var Ge=g(Ve,[["render",Be],["__scopeId","data-v-51ba4ba3"]]);const He={data(){return{result:[],months:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],isLoading:!1}},computed:{settings(){return{apiUrl:this.$store.state.yearlyApiUrl,userId:this.$store.state.yearlyUserId,date:this.$store.state.yearlyDate,deltaSeconds:this.$store.state.yearlyDeltaSeconds,deltaDays:this.$store.state.yearlyDeltaDays}},totalSeconds(){return this.result.reduce((t,e)=>t+=e.seconds,0)},totalDeltaSeconds(){return this.result.reduce((t,e)=>t+=this.unformatTime(e.deltaSeconds),0)},totalDays(){return this.result.reduce((t,e)=>t+=this.getFloat(e.days),0)},totalDeltaDays(){return this.result.reduce((t,e)=>t+=this.getFloat(e.deltaDays),0)}},mounted(){this.getResult()},watch:{settings(){this.getResult()},result(){this.isLoading=!1}},methods:{formatTime:T,unformatTime:ne,async getResult(){var y,I,x,F,R,M,N,O;let t=[],e=this.settings.userId,l=this.settings.date.getFullYear(),n=this.settings.deltaSeconds,s=this.settings.deltaDays;this.isLoading=!0;let a=JSON.parse(localStorage.getItem("yearlyDays"));this.months.forEach((_,m)=>{t[m]={k:m,name:_,seconds:0,deltaSeconds:null,days:0,deltaDays:null,result:0}});for(const _ of t){let m=await this.getMonthWorkDays(l,_.k+1);t[_.k].days=m,((I=(y=n==null?void 0:n[e])==null?void 0:y[l])==null?void 0:I[_.k])&&(t[_.k].deltaSeconds=T(n[e][l][_.k])),((F=(x=a==null?void 0:a[e])==null?void 0:x[l])==null?void 0:F[_.k])&&!((M=(R=s==null?void 0:s[e])==null?void 0:R[l])==null?void 0:M[_.k])&&(s[e]||(s[e]={}),s[e][l]||(s[e][l]={}),s[e][l][_.k]=m-a[e][l][_.k],localStorage.setItem("yearlyDeltaDays",JSON.stringify(s)),delete a[e][l][_.k],localStorage.setItem("yearlyDays",JSON.stringify(a))),((O=(N=s==null?void 0:s[e])==null?void 0:N[l])==null?void 0:O[_.k])&&(t[_.k].deltaDays=s[e][l][_.k])}let r=[],o={USER_ID:e,">=CREATED_DATE":"01.01."+l+" 00:00:00","<=CREATED_DATE":"31.12."+l+" 23:59:59"};o.USER_ID&&(r=await j(this.settings.apiUrl,o)),r.forEach(_=>{let m=new Date(_.CREATED_DATE);t[m.getMonth()].seconds+=parseInt(_.SECONDS)}),this.result=t,this.recalcResult()},changeSeconds(t,e){var a,r;let l=this.settings.deltaSeconds,n=this.settings.userId,s=this.settings.date.getFullYear();e=this.unformatTime(e),((r=(a=l[n])==null?void 0:a[s])==null?void 0:r[t])!=e&&(l[n]||(l[n]={}),l[n][s]||(l[n][s]={}),e?l[n][s][t]=e:delete l[n][s][t],this.$store.commit("yearlyDeltaSecondsChange",{yearlyDeltaSeconds:l}),this.recalcResult())},changeDays(t,e){var a,r;let l=this.settings.deltaDays,n=this.settings.userId,s=this.settings.date.getFullYear();e=this.getFloat(e),((r=(a=l[n])==null?void 0:a[s])==null?void 0:r[t])!=e&&(l[n]||(l[n]={}),l[n][s]||(l[n][s]={}),e?l[n][s][t]=e:delete l[n][s][t],this.$store.commit("yearlyDeltaDaysChange",{yearlyDeltaDays:l}),this.recalcResult())},recalcResult(){this.result=this.result.map(t=>{let e=this.getFloat(t.seconds)-this.getFloat(this.unformatTime(t.deltaSeconds)),l=this.getFloat(t.days)-this.getFloat(t.deltaDays);return t.result=(Math.ceil(e/60/60/l*100)/100).toFixed(1),t})},async getMonthWorkDays(t,e){let l=0;return l=(await _e(t,e)).split("|").reduce((s,a)=>a!=1?++s:s,0),l},getFloat(t){return parseFloat(String(t||0).replace(",","."))}}},A=t=>(b("data-v-118f8c7c"),t=t(),$(),t),qe=A(()=>i("svg",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},[i("path",{d:"M 15 3 C 12.031398 3 9.3028202 4.0834384 7.2070312 5.875 A 1.0001 1.0001 0 1 0 8.5058594 7.3945312 C 10.25407 5.9000929 12.516602 5 15 5 C 20.19656 5 24.450989 8.9379267 24.951172 14 L 22 14 L 26 20 L 30 14 L 26.949219 14 C 26.437925 7.8516588 21.277839 3 15 3 z M 4 10 L 0 16 L 3.0507812 16 C 3.562075 22.148341 8.7221607 27 15 27 C 17.968602 27 20.69718 25.916562 22.792969 24.125 A 1.0001 1.0001 0 1 0 21.494141 22.605469 C 19.74593 24.099907 17.483398 25 15 25 C 9.80344 25 5.5490109 21.062074 5.0488281 16 L 8 16 L 4 10 z"})],-1)),Qe=[qe],Xe={class:"yearly__table"},Ze=A(()=>i("tr",null,[i("th",null,"\u041C\u0435\u0441\u044F\u0446"),i("th",null,"\u0420\u0430\u0431\u043E\u0447\u0435\u0435 \u0432\u0440\u0435\u043C\u044F"),i("th",null,"\u0420\u0430\u0431\u043E\u0447\u0438\u0435 \u0434\u043D\u0438"),i("th",null,"\u0412\u044B\u0440\u0430\u0431\u043E\u0442\u043A\u0430")],-1)),et={class:"is-name"},tt={class:"is-seconds"},st=h(" - "),at=["onUpdate:modelValue","onChange","onKeyup"],lt=h(" = "),rt={class:"is-days"},nt=h(" - "),it=["onUpdate:modelValue","onChange","onKeyup"],ot=h(" = "),ct={class:"is-result"},dt=A(()=>i("td",null,null,-1)),ut={class:"is-seconds-result"},_t=h(" - "),yt=h(" = "),ht={class:"is-days-result"},gt=h(" - "),pt=h(" = "),mt=A(()=>i("td",null,null,-1));function Dt(t,e,l,n,s,a){const r=B("mask");return c(),d("div",{class:p(["yearly",{"is-loading":s.isLoading}])},[i("div",{class:"yearly__refresh",onClick:e[0]||(e[0]=(...o)=>a.getResult&&a.getResult(...o)),title:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0434\u0430\u043D\u043D\u044B\u0435"},Qe),i("table",Xe,[Ze,(c(!0),d(f,null,k(s.result,o=>(c(),d("tr",{key:o.k},[i("td",et,u(o.name),1),i("td",tt,[i("span",null,u(a.formatTime(o.seconds)),1),st,i("span",null,[D(i("input",{type:"text","onUpdate:modelValue":y=>o.deltaSeconds=y,onChange:y=>a.changeSeconds(o.k,o.deltaSeconds),onKeyup:y=>a.changeSeconds(o.k,o.deltaSeconds)},null,40,at),[[U,o.deltaSeconds],[r,{regex:"[0-9]*:[0-5][0-9]:[0-5][0-9]"}]])]),lt,i("span",null,[i("b",null,u(a.formatTime(o.seconds-a.unformatTime(o.deltaSeconds))),1)])]),i("td",rt,[i("span",null,u(o.days),1),nt,i("span",null,[D(i("input",{type:"text","onUpdate:modelValue":y=>o.deltaDays=y,onChange:y=>a.changeDays(o.k,o.deltaDays),onKeyup:y=>a.changeDays(o.k,o.deltaDays)},null,40,it),[[U,o.deltaDays],[r,{regex:"[0-9]*[.,]?[0-9]*"}]])]),ot,i("span",null,[i("b",null,u(o.days-a.getFloat(o.deltaDays)),1)])]),i("td",ct,[i("b",null,u(o.result),1)])]))),128)),i("tr",null,[dt,i("td",ut,[i("span",null,u(a.formatTime(a.totalSeconds)),1),_t,i("span",null,u(a.formatTime(a.totalDeltaSeconds)),1),yt,i("span",null,u(a.formatTime(a.totalSeconds-a.totalDeltaSeconds)),1)]),i("td",ht,[i("span",null,u(a.totalDays),1),gt,i("span",null,u(a.totalDeltaDays),1),pt,i("span",null,u(a.totalDays-a.totalDeltaDays),1)]),mt])])],2)}var ft=g(He,[["render",Dt],["__scopeId","data-v-118f8c7c"]]);const kt={components:{SettingsYearly:Ge,Yearly:ft}};function It(t,e,l,n,s,a){const r=v("SettingsYearly"),o=v("Yearly");return c(),d("div",null,[S(r),S(o)])}var vt=g(kt,[["render",It]]);const St={components:{TabWeekly:Oe,TabYearly:vt},data(){return{active:0,tabs:[{k:0,name:"\u041D\u0435\u0434\u0435\u043B\u044C\u043A\u0430",content:"TabWeekly"},{k:1,name:"\u0413\u043E\u0434\u0438\u043A",content:"TabYearly"}]}},methods:{changeTab(t){this.active=t}}},wt={class:"tabs"},Ut={class:"tabs__tabs"},At=["onClick"],Ct={class:"tabs__contents"},Tt=["onClick"];function bt(t,e,l,n,s,a){return c(),d("div",wt,[i("div",Ut,[(c(!0),d(f,null,k(s.tabs,r=>(c(),d("div",{key:r.k,class:p(["tabs__tab",{"is-active":r.k==s.active}]),onClick:o=>a.changeTab(r.k)},u(r.name),11,At))),128))]),i("div",Ct,[(c(!0),d(f,null,k(s.tabs,r=>(c(),d("div",{key:r.k,class:p(["tabs__content",{"is-active":r.k==s.active}]),onClick:o=>a.changeTab(r.k)},[(c(),G(H(r.content)))],10,Tt))),128))])])}var $t=g(St,[["render",bt],["__scopeId","data-v-45e3f508"]]);const Et={name:"App",components:{Header:re,Tabs:$t}},Lt={class:"reports"};function xt(t,e,l,n,s,a){const r=v("Header"),o=v("Tabs");return c(),d("div",Lt,[S(r),S(o)])}var Ft=g(Et,[["render",xt]]);const[Rt,Mt]=P(),Nt=ce();var Ot=q({state(){return{weeklyApiUrl:localStorage.getItem("weeklyApiUrl")||"",weeklyUserId:localStorage.getItem("weeklyUserId")||"",weeklyDateFrom:Rt,weeklyDateTo:Mt,yearlyApiUrl:localStorage.getItem("yearlyApiUrl")||"",yearlyUserId:localStorage.getItem("yearlyUserId")||"",yearlyDate:Nt,yearlyDeltaDays:JSON.parse(localStorage.getItem("yearlyDeltaDays"))||{},yearlyDeltaSeconds:JSON.parse(localStorage.getItem("yearlyDeltaSeconds"))||{}}},mutations:{weeklyApiChange(t,e){t.weeklyApiUrl=e.weeklyApiUrl,localStorage.setItem("weeklyApiUrl",e.weeklyApiUrl)},weeklyUserChange(t,e){t.weeklyUserId=e.weeklyUserId,localStorage.setItem("weeklyUserId",e.weeklyUserId)},weeklyDateChange(t,e){t.weeklyDateFrom=e.weeklyDateFrom,t.weeklyDateTo=e.weeklyDateTo},yearlyApiChange(t,e){t.yearlyApiUrl=e.yearlyApiUrl,localStorage.setItem("yearlyApiUrl",e.yearlyApiUrl)},yearlyUserChange(t,e){t.yearlyUserId=e.yearlyUserId,localStorage.setItem("yearlyUserId",e.yearlyUserId)},yearlyDateChange(t,e){t.yearlyDate=e.yearlyDate,localStorage.setItem("yearlyDate",e.yearlyDate)},yearlyDeltaDaysChange(t,e){t.yearlyDeltaDays=e.yearlyDeltaDays,localStorage.setItem("yearlyDeltaDays",JSON.stringify(e.yearlyDeltaDays))},yearlyDeltaSecondsChange(t,e){t.yearlyDeltaSeconds=e.yearlyDeltaSeconds,localStorage.setItem("yearlyDeltaSeconds",JSON.stringify(e.yearlyDeltaSeconds))}}}),Vt={install:(t,e)=>{t.directive("mask",{mounted:(l,n)=>{Q(n.value).mask(l)}})}};X(Ft).use(Ot).use(Vt).mount("#app");
